<div class="task-upsert-container">
  <div class="task-upsert-header">
    <h2 class="section-title">
      <z-i18n [key]="'Create New Task'"></z-i18n>
    </h2>
    <button class="btn-close" (click)="onCancel()">
      <span class="material-symbols-rounded">close</span>
    </button>
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="task-upsert-form">
    <div class="form-body">
      <div class="form-group">
        <label class="required"><z-i18n [key]="'Title'"></z-i18n></label>
        <z-input formControlName="title" placeholder="Task Title" />
        <z-error controlName="title"></z-error>
      </div>

      <div class="form-group">
        <label class="required"><z-i18n [key]="'Assignee'"></z-i18n></label>
        <z-select
          formControlName="assignee"
          [options]="assigneeOptions"
          [isMultiSelect]="false"
          (valueChange)="onAssigneeChange($event)"
        ></z-select>
        <z-error controlName="assignee"></z-error>
      </div>

      <div class="form-group">
        <label class="required"><z-i18n [key]="'Status'"></z-i18n></label>
        <z-select
          formControlName="status"
          [options]="taskStatuses"
          [isMultiSelect]="false"
          [labelKey]="'name'"
          [valueKey]="'code'"
          (valueChange)="onTaskStatusChange($event)"
        ></z-select>
        <z-error controlName="status"></z-error>
      </div>

      <div class="form-group">
        <label><z-i18n [key]="'Reporter'"></z-i18n></label>
        <z-input formControlName="reporter" placeholder="Reporter Name" />
        <z-error controlName="reporter"></z-error>
      </div>

      <div class="form-group md:col-span-2">
        <label><z-i18n [key]="'Description'"></z-i18n></label>
        <textarea
          class="z-input z-text-area"
          formControlName="description"
          placeholder="Type your description here...">
        </textarea>
      </div>

      <div class="form-group">
        <label><z-i18n [key]="'Task Type'"></z-i18n></label>
        <z-select
          formControlName="taskType"
          [options]="taskTypes"
          [isMultiSelect]="false"
          [labelKey]="'name'"
          [valueKey]="'code'"
        ></z-select>
        <z-error controlName="taskType"></z-error>
      </div>

      <div class="form-group">
        <label><z-i18n [key]="'Priority'"></z-i18n></label>
        <z-input formControlName="priority" placeholder="Task Priority" />
        <z-error controlName="priority"></z-error>
      </div>

      <div class="form-group">
        <label><z-i18n [key]="'Start Date'"></z-i18n></label>
        <z-input formControlName="startDate" placeholder="Start Date" type="date" />
        <z-error controlName="startDate"></z-error>
      </div>

      <div class="form-group">
        <label><z-i18n [key]="'End Date'"></z-i18n></label>
        <z-input formControlName="endDate" placeholder="End Date" type="date" />
        <z-error controlName="endDate"></z-error>
      </div>

      <div class="form-group">
        <label><z-i18n [key]="'Label'"></z-i18n></label>
        <z-input formControlName="label" placeholder="Task Label" />
        <z-error controlName="label"></z-error>
      </div>
    </div>

    <div class="task-upsert-action">
      <button type="button" class="btn btn-cancel" (click)="onCancel()">
        <z-i18n [key]="'Cancel'"></z-i18n>
      </button>
      <button type="submit" class="btn btn-primary">
        <z-i18n [key]="'Submit'"></z-i18n>
      </button>
    </div>
  </form>
</div>
